post:
  operationId: user_create_link_onepanel_user_token
  tags:
    - User
  x-onedata-gri:
    type: od_user
    id: ?CLIENT_ID
    aspect: link_onepanel_user_token
  summary: Create link Onepanel user token
  x-bash-codegen-description: |
    Creates a token for the current user allowing him to link this Onedata
    account to a Onepanel local admin account. When the token is
    consumed in chosen Onepanel, the user's account is linked to the
    corresponding cluster.

    This operation can be invoked on behalf of the current user only.

    See also: [link Onepanel user](#operation/link_onepanel_user).
  description: |
    Creates a token for the current user allowing him to link this Onedata
    account to a Onepanel local admin account. When the token is
    consumed in chosen Onepanel, the user's account is linked to the
    corresponding cluster.

    This operation can be invoked on behalf of the current user only.

    See also: [link Onepanel user](#operation/link_onepanel_user).

    ***Example cURL requests***

    **Create provider registration token for current user**
    ```bash
    curl -u username:password -X POST \
    https://$HOST/api/v3/onezone/user/clusters/link_onepanel_user_token

    {
      "token": [
        "MDAxNmxvY2F00aW9uIHJlZ2lzdHJ5CjAwM2JpZGVudGlmaW-0Y8"
      ]
    }
    ```
  consumes:
    - application/json
  produces:
    - application/json
  responses:
    '200':
      description: A link Onepanel user token.
      schema:
        $ref : '#/definitions/LinkOnepanelUserToken'
    '400':
      description: Invalid request.
      schema:
        $ref: '#/definitions/Error'
    '401':
      description: Authentication error.
      schema:
        $ref: '#/definitions/Error'
    '403':
      description: Authorization error.
      schema:
        $ref: '#/definitions/Error'
    '404':
      description: Resource not found.
      schema:
        $ref: '#/definitions/Error'
    '500':
      description: Internal server Error.
      schema:
        $ref: '#/definitions/Error'
  x-code-samples:
  - lang: Shell
    source: "onezone-rest-cli userCreateLinkOnepanelUserToken"
